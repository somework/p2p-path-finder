# Subtask 0004.12: Test Mandatory Segment Edge Cases

**Parent Task**: 0004 - PathFinder Algorithm Correctness  
**Effort**: M (2-3h)  
**Dependencies**: 0004.11

## Description

Add tests for mandatory segment edge cases to ensure correct pruning and path construction.

## Actions

- [ ] Test path with mandatory segments exceeding spend constraints
- [ ] Test edge with all-mandatory vs mixed segments
- [ ] Test zero mandatory capacity (all optional)
- [ ] Test mandatory segment pruning at boundaries
- [ ] Add to PathFinderTest

## Acceptance Criteria

- Mandatory segments exceeding constraints tested
- All-mandatory vs mixed tested
- Zero mandatory capacity tested
- Edge cases covered
- All tests pass

## Definition of Done

- [ ] Mandatory segment tests added to tests/Application/PathFinder/PathFinderTest.php
- [ ] Edge cases covered
- [ ] All tests pass
- [ ] Code follows project testing patterns
- [ ] Changes committed to version control

## Tests Needed

Create test methods:
- `testMandatorySegmentsExceedingConstraints()`
- `testAllMandatoryVsMixedSegments()`
- `testZeroMandatoryCapacity()`
- `testMandatorySegmentPruning()`

