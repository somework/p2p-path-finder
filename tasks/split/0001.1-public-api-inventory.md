# 0001.1: Public API Inventory

**Parent Task**: [0001 - Public API Surface Finalization](../0001-high-priority-public-api-finalization.md)  
**Effort**: M (2-3 hours)  
**Priority**: P1 - Release-blocking  
**Dependencies**: None

## Description

Create a comprehensive inventory of all public classes, interfaces, and methods in the codebase. Categorize each as PUBLIC (stable API), INTERNAL (marked @internal), or UNCLEAR (needs decision). This inventory will serve as the foundation for API stability documentation.

## Actions

1. Scan all classes in `src/` directory
2. For each public class/interface:
   - List all public methods
   - Check for @internal annotation
   - Check if it's referenced in README as public API
3. Categorize each item:
   - **PUBLIC**: Intended for consumer use, will be stable in 1.0+
   - **INTERNAL**: Marked @internal, can change without notice
   - **UNCLEAR**: Public but unclear if intentional
4. Create `docs/api-stability.md` with:
   - Complete list of PUBLIC classes/interfaces/methods
   - Complete list of INTERNAL classes
   - List of UNCLEAR items requiring decision
   - Rationale for categorization

## Acceptance Criteria

- [x] All public classes in `src/` reviewed and categorized
- [x] `docs/api-stability.md` file created
- [x] PUBLIC API list includes:
  - PathFinderService and all public methods
  - PathSearchRequest
  - PathSearchConfig and builder
  - SearchOutcome, PathResult, PathResultSet
  - PathOrderStrategy interface
  - OrderFilterInterface
  - FeePolicy interface
  - All domain value objects (Money, ExchangeRate, Order, etc.)
- [x] INTERNAL list includes:
  - PathFinder (marked @internal)
  - OrderSpendAnalyzer
  - LegMaterializer  
  - ToleranceEvaluator
  - All internal search components
- [x] UNCLEAR items documented with notes for review
- [x] Each categorization has brief rationale

## Definition of Done

- [x] `docs/api-stability.md` exists and is complete
- [x] Document has clear sections: PUBLIC API, INTERNAL API, UNCLEAR
- [x] All public classes from src/ are listed
- [x] Each entry includes: fully-qualified class name, brief description
- [x] Document is committed to repository
- [ ] File is linked from main README.md (can be separate subtask 0001.12)
- [x] PHPStan/Psalm pass with no new errors

## Tests Needed

No automated tests required for documentation task.

**Manual verification**:
- Cross-check inventory against actual src/ directory
- Verify all README-mentioned APIs are in PUBLIC list
- Confirm @internal marked classes are in INTERNAL list

## Output Format

```markdown
# API Stability Guide

## Public API (Stable in 1.0+)

### Core Services
- `SomeWork\P2PPathFinder\Application\Service\PathFinderService`
  - Purpose: Main facade for path finding
  - Methods: findBestPaths(PathSearchRequest): SearchOutcome
  
...

## Internal API (May change without notice)

### Search Engine
- `SomeWork\P2PPathFinder\Application\PathFinder\PathFinder` (@internal)
  - Purpose: Internal search algorithm implementation
  
...

## Requires Decision

- `SomeWork\P2PPathFinder\Application\PathFinder\ValueObject\CandidatePath`
  - Issue: Exposed in callback signature
  - Decision needed: Make public or hide?
```

## Notes

- This is the foundational subtask for Task 0001
- Multiple other subtasks depend on this inventory
- Take time to be thorough - this defines the API contract

