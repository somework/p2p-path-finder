# Subtask 0001.10: JSON Serialization Tests

**Parent Task**: 0001 - Public API Finalization  
**Effort**: M (2-3h)  
**Dependencies**: 0001.7, 0001.8, 0001.9

## Description

Create comprehensive tests for JSON serialization that verify the documented structure and will catch any breaking changes to the JSON API.

## Actions

- [x] Create `tests/Application/SerializationContractTest.php`
- [x] Test PathResult JSON structure matches documentation
- [x] Test SearchOutcome JSON structure matches documentation
- [x] Test SearchGuardReport JSON structure
- [x] Test Money JSON structure matches documentation
- [x] Test field types, not just that serialization works
- [x] Test with various edge cases (zero amounts, large scales, etc.)

## Acceptance Criteria

- [x] SerializationContractTest.php file created
- [x] All documented JSON structures tested
- [x] Tests verify structure, not just successful serialization
- [x] Tests verify field names, types, and presence
- [x] Edge cases covered
- [x] All tests pass

## Definition of Done

- [x] SerializationContractTest.php created
- [x] All documented JSON structures tested
- [x] Tests verify structure, not just serialization works
- [x] All tests pass (vendor/bin/phpunit)
- [x] Code follows project testing patterns
- [x] Changes committed to version control

## Summary

Created comprehensive SerializationContractTest.php with 21 tests and 146 assertions:
- Money structure tests (4 tests): structure, trailing zeros, large amounts, zero amounts
- MoneyMap structure tests (2 tests): structure with sorting, empty map
- DecimalTolerance tests (2 tests): numeric string format, zero value
- PathLeg tests (3 tests): structure, no fees, collection
- PathResult tests (2 tests): basic structure, complete path with fees
- SearchGuardReport tests (3 tests): structure, null time budget, breach detection
- SearchOutcome tests (2 tests): structure, empty paths
- Integration tests (3 tests): round-trip, snake_case naming

All tests verify exact field names, types (string/int/float/bool), and presence to catch breaking changes.

## Tests Needed

Create these test methods:
- `testPathResultJsonStructure()`
- `testSearchOutcomeJsonStructure()`
- `testSearchGuardReportJsonStructure()`
- `testMoneyJsonStructure()`
- `testJsonSerializationWithEdgeCases()`

